@using Umbraco.Cms.Core.Models.PublishedContent
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage

@{
    Layout = "master.cshtml";
    var backImg = Model.Value<IPublishedContent>("backImg")?.Url();
    var titleImg = Model.Value<IPublishedContent>("squareImage")?.Url();
    var description = Model.Value<string>("descriptionProgram");
    var episodes = Model.ChildrenOfType("EpisodePage");
}

<h1 class="text-center mt-5" style="font-size: 50px;">@Model.Name</h1>

<section class="program-section" >
    <div class="overlay"></div>

    <div class="program-content container">
        <div class="text-content">
            <!-- @if (!string.IsNullOrWhiteSpace(titleImg))
            {
                <img src="@titleImg" alt="כותרת התוכנית" class="title-image" />
            } -->

            @if (!string.IsNullOrWhiteSpace(description))
            {
                <p class="description">@Html.Raw(description)</p>
            }
        </div>

        <div class="episodes-grid">
    @foreach (var episode in episodes)
    {
        var episodeImage = episode.Value<IPublishedContent>("imageEpisode")?.Url();
        var episodeName = episode.Value<string>("episodeTitle");

        <div class="episode-card">
            <a href="@episode.Url()">
                <img src="@episodeImage" alt="@episodeName" loading="lazy" />
                <h3>@episodeName</h3>
            </a>
        </div>
    }
</div>

    </div>
</section>

<style>
    body{
        margin: 0;
        padding: 0;
        height: 100vh;
        background-image: url('/media/f00brzqs/newimg.png');
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        background-attachment: fixed;
    }
    .episodes-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr); 
    gap: 20px;
    margin-top: 30px;
    direction: rtl; 
    margin-bottom: 20px;
}

.episode-card {
    background: #003f88; 
    border-radius: 12px;
    overflow: hidden;
    text-align: center;
    transition: transform 0.3s;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
    transition: transform 0.3s, box-shadow 0.3s;
}

.episode-card:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.5);
}

.episode-card img {
    width: 100%;
    height: 160px;
    object-fit: cover;
    display: block;
}

.episode-card h3 {
    color: grey;
    font-size: 22px;
    margin: 12px 0;
    font-weight: bold;
}

.episode-card a {
    text-decoration: none;
}

.episode-card a:hover h3 {
    text-decoration: none;
}

</style>
